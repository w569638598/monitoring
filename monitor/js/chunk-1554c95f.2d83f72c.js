(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1554c95f"],{"44da":function(t,e,a){},6503:function(t,e,a){t.exports=a.p+"img/tips.d46d6c15.png"},bf0a:function(t,e,a){"use strict";var n=a("44da"),l=a.n(n);l.a},cda9:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"left fl-l"},[n("div",[n("ul",t._l(t.leftNav,function(e,a){return n("li",{key:a,class:{active:t.active==a},on:{click:function(e){return t.navClick(a)}}},[t._v(t._s(e))])}),0)])]),n("div",{staticClass:"right fl-r"},[n("p",{staticClass:"r-title"},[t._v("报警信息")]),n("div",{staticClass:"selectOption"},[t._v("\n        筛选：\n        "),n("el-date-picker",{staticClass:"fl-l",staticStyle:{"margin-top":"6px"},attrs:{type:"date",placeholder:"开始时间","value-format":"yyyy-MM-dd"},model:{value:t.startDate,callback:function(e){t.startDate=e},expression:"startDate"}}),n("el-date-picker",{staticClass:"fl-l",staticStyle:{"margin-top":"6px"},attrs:{type:"date",placeholder:"结束时间日期","value-format":"yyyy-MM-dd"},model:{value:t.endDate,callback:function(e){t.endDate=e},expression:"endDate"}}),n("el-select",{staticStyle:{width:"180px"},attrs:{placeholder:"请选择阅读状态"},model:{value:t.read,callback:function(e){t.read=e},expression:"read"}},t._l(t.readState,function(t){return n("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1),n("el-select",{staticStyle:{width:"180px"},attrs:{placeholder:"报警类型"},model:{value:t.warning,callback:function(e){t.warning=e},expression:"warning"}},t._l(t.warningState,function(t){return n("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1),n("el-select",{staticStyle:{width:"180px"},attrs:{placeholder:"选择倒序排列时间"},model:{value:t.sortDate,callback:function(e){t.sortDate=e},expression:"sortDate"}},t._l(t.sortDateState,function(t){return n("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1),n("el-input",{staticClass:"carNumber",attrs:{placeholder:"输入车牌号",clearable:""},model:{value:t.driverNumber,callback:function(e){t.driverNumber=e},expression:"driverNumber"}}),n("span",{staticStyle:{cursor:"pointer",color:"#4596db"},on:{click:t.operationSome}},[t._v("标记所选项为已读")]),n("span",{staticClass:"fl-r",staticStyle:{"font-size":"12px"}},[n("img",{staticStyle:{position:"relative",top:"4px"},attrs:{src:a("6503"),alt:"",width:"16px;",height:"16px;"}}),t._v("\n          共"+t._s(t.dataLength)+"条报警信息\n        ")])],1),n("router-view"),n("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:t.tableData,"tooltip-effect":"dark",stripe:t.stripe,border:t.border},on:{"selection-change":t.handleSelectionChange,select:t.selectFn}},[n("el-table-column",{attrs:{type:"selection",width:"80"}}),n("el-table-column",{attrs:{label:"序号",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.$index+1))]}}])}),n("el-table-column",{attrs:{prop:"platenum",label:"车牌号"}}),n("el-table-column",{attrs:{prop:"appointmentDate",label:"预约卸货时间"}}),n("el-table-column",{attrs:{prop:"companyName",label:"预约矿点"}}),n("el-table-column",{attrs:{prop:"commandmsg",label:"报警类型"}}),n("el-table-column",{attrs:{prop:"eventtime",label:"报警时间"}}),n("el-table-column",{attrs:{prop:"hasRead",label:"状态",width:"120"}}),n("el-table-column",{attrs:{label:"操作","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return["已读"==e.row.hasRead?n("span"):n("span",{on:{click:function(a){return t.operationread(e.row,e.$index)}}},[t._v("标记为已读")]),n("span",{on:{click:function(a){return t.operationInfo(e.row,e.$index)}}},[t._v("详情")])]}}])})],1),n("el-pagination",{attrs:{background:"",layout:"prev, pager, next","page-size":t.pageSize,"current-page":t.currentPage,total:t.dataLength},on:{"current-change":t.getData}})],1)])},l=[],i=(a("ac6a"),a("2f62")),r={data:function(){return{pageSize:10,currentPage:0,stripe:!0,border:!0,dataLength:null,driverNumber:"",active:0,ids:[],idstr:"",leftNav:["报警信息","统计报表","路线偏离","断电报警","停车超时","温度过高","GPS故障","设置"],startDate:this.PF.getToDay(),endDate:this.PF.getToDay(),readState:[{label:"请选择阅读状态",value:2},{label:"已读",value:1},{label:"未读",value:0}],read:"",warningState:[{label:"请选择报警类型",value:0},{label:"路线偏离",value:9},{label:"停车超时",value:10},{label:"断电报警",value:2},{label:"温度过高",value:5},{label:"GPS故障",value:11}],warning:"",sortDateState:[{label:"请选择倒序排列时间",value:0},{label:"预约卸货时间",value:"appointmentdate"},{label:"报警时间",value:"eventtime"}],sortDate:"",tableData:[{date:"2016-05-03",name:"王小虎",address:"上海市普陀区金沙江路 1518 弄"},{date:"2016-05-02",name:"王小虎",address:"上海市普陀区金沙江路 1518 弄"},{date:"2016-05-04",name:"王小虎",address:"上海市普陀区金沙江路 1518 弄"},{date:"2016-05-01",name:"王小虎",address:"上海市普陀区金沙江路 1518 弄"},{date:"2016-05-08",name:"王小虎",address:"上海市普陀区金沙江路 1518 弄"},{date:"2016-05-06",name:"王小虎",address:"上海市普陀区金沙江路 1518 弄"},{date:"2016-05-07",name:"王小虎",address:"上海市普陀区金沙江路 1518 弄"}]}},computed:Object(i["c"])({_venderLoginId:function(t){return t._venderLoginId}}),methods:{operationSome:function(){this.operationread(this.ids.join(","))},selectFn:function(t,e){var a=this;t.forEach(function(t){a.ids.push(t.id)})},navClick:function(t){this.$message({message:"敬请期待",center:!0,duration:1e3})},operationread:function(t,e){var a,n=this;a=t.id?this.qs.stringify({ids:t.id}):this.qs.stringify({ids:t});this.ajax.post("monitorApi/updateWaring",a).then(function(t){200==t.data.errorCode&&n.getData()})},getData:function(t){var e=this;this.read=2===this.read?"":this.read,this.sortDate=0===this.sortDate?"":this.sortDate,this.warning=0===this.warning?"":this.warning;var a=this.qs.stringify({venderId:this._venderLoginId,hasRead:this.read,driverNumber:this.driverNumber,startDate:this.startDate,endDate:this.endDate,waringType:this.warning,sortBy:this.sortDate,pagesNo:t?t-1:0});this.ajax.post("monitorApi/getWaringList ",a).then(function(t){t.data.body.result.forEach(function(t){t.appointmentDate=t.appointmentDate?e.PF.parseDate(t.appointmentDate):"-",t.hasRead=t.hasRead?"已读":"未读"}),e.dataLength=t.data.body.size,e.tableData=t.data.body.result})},handleSelectionChange:function(){},operationInfo:function(t,e){}},watch:{startDate:function(){this.getData()},endDate:function(){this.getData()},read:function(){this.getData()},warning:function(){this.getData()},sortDate:function(){this.getData()},driverNumber:function(){this.getData()}},mounted:function(){this.getData()}},s=r,o=(a("bf0a"),a("2877")),d=Object(o["a"])(s,n,l,!1,null,"307806bd",null);e["default"]=d.exports}}]);
//# sourceMappingURL=chunk-1554c95f.2d83f72c.js.map