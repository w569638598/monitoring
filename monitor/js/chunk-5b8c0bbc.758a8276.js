(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5b8c0bbc"],{"01e1":function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"rightBox",style:{right:t.right}},[n("ul",{staticClass:"navBox",style:{right:t.rightNavposition}},t._l(t.rightNav,function(e,i){return n("li",{key:i,class:{active:t.tabI==i},on:{click:function(e){return t.tabFn(i)}}},[t._v("\n      "+t._s(e)+"\n      "),t.tabI!=i||""===t.total&&!t.total?t._e():n("span",[t._v(t._s(t.total))])])}),0),n("div",{staticClass:"tabC"},[0==t.tabI?n("div",["monitoring"==t.pageType||"dataStatistics"==t.pageType?n("p",{staticClass:"title bc-b",on:{click:function(e){return t.getAllData(t.a)}}},[t._v("全部矿点")]):t._e(),n("right-list",{attrs:{pageType:t.pageType}})],1):n("div",["monitoring"==t.pageType||"dataStatistics"==t.pageType?n("p",{staticClass:"title bc-b",on:{click:function(e){return t.getAllData(t.a)}}},[t._v("全部供应单位")]):t._e(),n("right-list",{attrs:{pageType:t.pageType},on:{sendTotal:t.getTotal}})],1)])])},r=[],a=(n("ac6a"),n("cebc")),o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",["trajectory"==t.pageType?n("div",{staticStyle:{overflow:"hidden"}},[n("p",{staticClass:"fl-l",staticStyle:{"margin-right":"16px","margin-left":"12px"}},[t._v("选择预约时间")]),n("el-date-picker",{staticClass:"fl-l",staticStyle:{"margin-top":"6px"},attrs:{type:"date",placeholder:"选择日期","value-format":"yyyy-MM-dd"},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}})],1):t._e(),"dataStatistics"==t.pageType?n("ul",{staticClass:"venderListBox"},t._l(t._venderList,function(e,i){return n("li",{key:i,class:{navI:t.navIndex==i},on:{click:function(n){return t.selectVender(e,i)}}},[t._v(t._s(e))])}),0):n("ul",{staticClass:"dataList",class:{trag:"trajectory"==t.pageType}},t._l(t._list,function(e,i){return n("li",{key:i,on:{click:function(n){return n.stopPropagation(),t.mineral(i,e)}}},[t.mineralI!=i?n("div",{staticClass:"partInfo"},[e.companyname.length>15?n("p",{staticClass:"name"},[t._v(t._s(e.companyname.replace(e.companyname.slice(15),"...")))]):n("p",{staticClass:"name"},[t._v(t._s(e.companyname))]),n("p",{staticClass:"fc-r fl-r"},[t._v("共"+t._s(e.carList.length)+"车")])]):n("div",{staticClass:"mainIn"},[n("p",{staticClass:"mainTitle"},[n("span",[t._v(t._s(e.companyname))]),n("span",{staticClass:"fl-r"},[t._v("共"+t._s(e.carList.length)+"车")])]),n("ul",{staticClass:"carListBox"},t._l(e.carList,function(e,i){return n("li",{key:i,class:{traje:"trajectory"==t.pageType,carListActive:t.carListActive==i},on:{click:function(n){return n.stopPropagation(),t._changeCarLabelState(e,i)}}},[n("div",{staticClass:"number"},[n("span",[t._v(t._s(i+1))])]),n("div",{staticClass:"carInfo"},[n("p",{staticClass:"carNumber fc-r"},[t._v(t._s(e.divernumber))]),"trajectory"==t.pageType?n("p",[t._v(t._s(e.name))]):n("p",{staticClass:"address",staticStyle:{"text-align":"center"}},[t._v(t._s(e.address?e.address:"--"))])])])}),0)])])}),0)])},c=[],s=n("2f62"),u=(n("3e8f"),n("1c46"),{props:["pageType"],data:function(){return{date:this.PF.getToDay(),mineralI:-1,navIndex:-1,carListActive:this.parentState}},computed:Object(a["a"])({},Object(s["c"])({_list:function(t){return t._mon.resultList},_this_tabType:function(t){return t._tabType},_venderList:function(t){return t._venderList},_parentEventState:function(t){return t._parentEventState},_venderLoginId:function(t){return t._venderLoginId}})),watch:{_parentEventState:function(){this.navIndex=-10},date:function(t){this.date=t,this.getTrajectoryData()},_this_tabType:function(){"trajectory"==this.pageType&&this.getTrajectoryData()}},methods:Object(a["a"])({},Object(s["b"])(["_changeMon","_changeCarPoint","_changeCarLabelState","_selectVender","_changeDiverInfo","_changeCarLabelIndex","_trajectoryInit"]),{_changeMon:function(t){this.$store.commit("_changeMon",t)},_changeCarPoint:function(t){this.$store.commit("_changeCarPoint",t)},_changeDiverInfo:function(t){this.$store.commit("_changeDiverInfo",t)},_changeCarLabelIndex:function(t){this.$store.commit("_changeCarLabelIndex",t)},_trajectoryInit:function(t){this.$store.commit("_trajectoryInit",t)},_changeCarLabelState:function(t,e){var n=this,i=[];if(""==t.lat||i.push(t),this.carListActive=e,"trajectory"!=this.pageType)this._changeCarLabelIndex(e),this.$store.commit("_changeCarPoint",i);else{var r=this.qs.stringify({venderId:this._venderLoginId,diverNumber:t.divernumber,appointmentId:t.id,period:2});this.ajax.post("/monitorApi/orbitOfAppointmentDriverNumber",r).then(function(t){n._trajectoryInit(!0),n._changeDiverInfo(t.data.body);var e=n.PF.parsePath(t.data.body.content);n.$store.commit("_changePath",e)})}},mineral:function(t,e){if(this.$store.commit("CLICK_MINERAL",-1),this.carListActive=-1,this.mineralI=t,"monitoring"==this.pageType){var n=e.carList.filter(function(t){return""!==t.lat});this._changeCarPoint(n)}},selectVender:function(t,e){this.navIndex=e,this.$store.commit("_selectVender",t)},getTrajectoryData:function(){var t=this,e=this.qs.stringify({venderId:this._venderLoginId,searchdate:this.date,type:this._this_tabType});this.ajax.post("/monitorApi/orbitOfMinesOrCompany",e).then(function(e){t.$emit("sendTotal",e.data.body.totalquantity?e.data.body.totalquantity:0),t._trajectoryInit(!1),t._changeMon(e.data.body)})}}),mounted:function(){"trajectory"==this.pageType&&this.getTrajectoryData()}}),l=u,f=(n("51f6"),n("2877")),p=Object(f["a"])(l,o,c,!1,null,"16fff0a4",null),h=p.exports,g={props:["pageType","total"],data:function(){return{rightNav:["矿点分类","供应单位分类",">>"],tabI:0,date:"",mineralI:-1,a:"",right:"0",rightNavposition:"20%",isShowRight:this._isShowRight}},components:{RightList:h},created:function(){"dataStatistics"===this.pageType&&this.rightNav.pop()},computed:Object(s["c"])({_venderLoginId:function(t){return t._venderLoginId},_isShowRight:function(t){return t._isShowRight}}),methods:Object(a["a"])({getTotal:function(t){console.log("--------"),console.log(t)}},Object(s["b"])(["_changeMon","_changeCarPoint","_warchType","_parentEvent"]),{_changeMon:function(t){this.$store.commit("_changeMon",t)},_changeCarPoint:function(t){this.$store.commit("_changeCarPoint",t)},_warchType:function(t){this.$store.commit("_warchType",t)},getAllData:function(t){var e=this;if(this.$store.commit("_parentEvent","allData"),"monitoring"==this.pageType){var n=this.qs.stringify({venderId:this._venderLoginId,type:t||1});this.ajax.post("monitorApi/monitorInTransitAndLocation",n).then(function(t){e._changeMon(t.data.body);var n=[];e.total=t.data.body.totalquantity,t.data.body.resultList.forEach(function(t,e){for(var i=0;i<t.carList.length;i++)""==t.carList[i].lat||n.push(t.carList[i])}),e._changeCarPoint(n)}).catch(function(t){console.log(t)})}else this.$emit("allData","event")},tabFn:function(t){if(2===t)return this.isShowRight=!this.isShowRight,this.right=this.isShowRight?"-20%":"0",this.rightNavposition=this.isShowRight?"0":"20%",this.$store.commit("_changeRightState",this.isShowRight),void(this.rightNav[2]=this.isShowRight?"<<":">>");"dataStatistics"===this.pageType||(this.isShowRight=!1,this.right=this.isShowRight?"-20%":"0",this.rightNavposition=this.isShowRight?"0":"20%",this.$store.commit("_changeRightState",this.isShowRight),this.rightNav[2]=this.isShowRight?"<<":">>"),this.$store.commit("_parentEvent","allData"),this.tabI=t,this.a=t,this.a++,"monitoring"!=this.pageType?this._warchType(this.a):this.getAllData(this.a)}})},y=g,d=(n("3079"),Object(f["a"])(y,i,r,!1,null,"604ed842",null));e["a"]=d.exports},"268f":function(t,e,n){t.exports=n("fde4")},3022:function(t,e,n){(function(t){var i=Object.getOwnPropertyDescriptors||function(t){for(var e=Object.keys(t),n={},i=0;i<e.length;i++)n[e[i]]=Object.getOwnPropertyDescriptor(t,e[i]);return n},r=/%[sdj%]/g;e.format=function(t){if(!w(t)){for(var e=[],n=0;n<arguments.length;n++)e.push(c(arguments[n]));return e.join(" ")}n=1;for(var i=arguments,a=i.length,o=String(t).replace(r,function(t){if("%%"===t)return"%";if(n>=a)return t;switch(t){case"%s":return String(i[n++]);case"%d":return Number(i[n++]);case"%j":try{return JSON.stringify(i[n++])}catch(e){return"[Circular]"}default:return t}}),s=i[n];n<a;s=i[++n])m(s)||!x(s)?o+=" "+s:o+=" "+c(s);return o},e.deprecate=function(n,i){if("undefined"!==typeof t&&!0===t.noDeprecation)return n;if("undefined"===typeof t)return function(){return e.deprecate(n,i).apply(this,arguments)};var r=!1;function a(){if(!r){if(t.throwDeprecation)throw new Error(i);t.traceDeprecation?console.trace(i):console.error(i),r=!0}return n.apply(this,arguments)}return a};var a,o={};function c(t,n){var i={seen:[],stylize:u};return arguments.length>=3&&(i.depth=arguments[2]),arguments.length>=4&&(i.colors=arguments[3]),b(n)?i.showHidden=n:n&&e._extend(i,n),S(i.showHidden)&&(i.showHidden=!1),S(i.depth)&&(i.depth=2),S(i.colors)&&(i.colors=!1),S(i.customInspect)&&(i.customInspect=!0),i.colors&&(i.stylize=s),f(i,t,i.depth)}function s(t,e){var n=c.styles[e];return n?"["+c.colors[n][0]+"m"+t+"["+c.colors[n][1]+"m":t}function u(t,e){return t}function l(t){var e={};return t.forEach(function(t,n){e[t]=!0}),e}function f(t,n,i){if(t.customInspect&&n&&L(n.inspect)&&n.inspect!==e.inspect&&(!n.constructor||n.constructor.prototype!==n)){var r=n.inspect(i,t);return w(r)||(r=f(t,r,i)),r}var a=p(t,n);if(a)return a;var o=Object.keys(n),c=l(o);if(t.showHidden&&(o=Object.getOwnPropertyNames(n)),C(n)&&(o.indexOf("message")>=0||o.indexOf("description")>=0))return h(n);if(0===o.length){if(L(n)){var s=n.name?": "+n.name:"";return t.stylize("[Function"+s+"]","special")}if(T(n))return t.stylize(RegExp.prototype.toString.call(n),"regexp");if(I(n))return t.stylize(Date.prototype.toString.call(n),"date");if(C(n))return h(n)}var u,b="",m=!1,_=["{","}"];if(v(n)&&(m=!0,_=["[","]"]),L(n)){var j=n.name?": "+n.name:"";b=" [Function"+j+"]"}return T(n)&&(b=" "+RegExp.prototype.toString.call(n)),I(n)&&(b=" "+Date.prototype.toUTCString.call(n)),C(n)&&(b=" "+h(n)),0!==o.length||m&&0!=n.length?i<0?T(n)?t.stylize(RegExp.prototype.toString.call(n),"regexp"):t.stylize("[Object]","special"):(t.seen.push(n),u=m?g(t,n,i,c,o):o.map(function(e){return y(t,n,i,c,e,m)}),t.seen.pop(),d(u,b,_)):_[0]+b+_[1]}function p(t,e){if(S(e))return t.stylize("undefined","undefined");if(w(e)){var n="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(n,"string")}return j(e)?t.stylize(""+e,"number"):b(e)?t.stylize(""+e,"boolean"):m(e)?t.stylize("null","null"):void 0}function h(t){return"["+Error.prototype.toString.call(t)+"]"}function g(t,e,n,i,r){for(var a=[],o=0,c=e.length;o<c;++o)$(e,String(o))?a.push(y(t,e,n,i,String(o),!0)):a.push("");return r.forEach(function(r){r.match(/^\d+$/)||a.push(y(t,e,n,i,r,!0))}),a}function y(t,e,n,i,r,a){var o,c,s;if(s=Object.getOwnPropertyDescriptor(e,r)||{value:e[r]},s.get?c=s.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):s.set&&(c=t.stylize("[Setter]","special")),$(i,r)||(o="["+r+"]"),c||(t.seen.indexOf(s.value)<0?(c=m(n)?f(t,s.value,null):f(t,s.value,n-1),c.indexOf("\n")>-1&&(c=a?c.split("\n").map(function(t){return"  "+t}).join("\n").substr(2):"\n"+c.split("\n").map(function(t){return"   "+t}).join("\n"))):c=t.stylize("[Circular]","special")),S(o)){if(a&&r.match(/^\d+$/))return c;o=JSON.stringify(""+r),o.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(o=o.substr(1,o.length-2),o=t.stylize(o,"name")):(o=o.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),o=t.stylize(o,"string"))}return o+": "+c}function d(t,e,n){var i=t.reduce(function(t,e){return 0,e.indexOf("\n")>=0&&0,t+e.replace(/\u001b\[\d\d?m/g,"").length+1},0);return i>60?n[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+n[1]:n[0]+e+" "+t.join(", ")+" "+n[1]}function v(t){return Array.isArray(t)}function b(t){return"boolean"===typeof t}function m(t){return null===t}function _(t){return null==t}function j(t){return"number"===typeof t}function w(t){return"string"===typeof t}function O(t){return"symbol"===typeof t}function S(t){return void 0===t}function T(t){return x(t)&&"[object RegExp]"===D(t)}function x(t){return"object"===typeof t&&null!==t}function I(t){return x(t)&&"[object Date]"===D(t)}function C(t){return x(t)&&("[object Error]"===D(t)||t instanceof Error)}function L(t){return"function"===typeof t}function P(t){return null===t||"boolean"===typeof t||"number"===typeof t||"string"===typeof t||"symbol"===typeof t||"undefined"===typeof t}function D(t){return Object.prototype.toString.call(t)}function E(t){return t<10?"0"+t.toString(10):t.toString(10)}e.debuglog=function(n){if(S(a)&&(a=Object({NODE_ENV:"production",BASE_URL:"/monitor/"}).NODE_DEBUG||""),n=n.toUpperCase(),!o[n])if(new RegExp("\\b"+n+"\\b","i").test(a)){var i=t.pid;o[n]=function(){var t=e.format.apply(e,arguments);console.error("%s %d: %s",n,i,t)}}else o[n]=function(){};return o[n]},e.inspect=c,c.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},c.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},e.isArray=v,e.isBoolean=b,e.isNull=m,e.isNullOrUndefined=_,e.isNumber=j,e.isString=w,e.isSymbol=O,e.isUndefined=S,e.isRegExp=T,e.isObject=x,e.isDate=I,e.isError=C,e.isFunction=L,e.isPrimitive=P,e.isBuffer=n("d60a");var R=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function N(){var t=new Date,e=[E(t.getHours()),E(t.getMinutes()),E(t.getSeconds())].join(":");return[t.getDate(),R[t.getMonth()],e].join(" ")}function $(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.log=function(){console.log("%s - %s",N(),e.format.apply(e,arguments))},e.inherits=n("3fb5"),e._extend=function(t,e){if(!e||!x(e))return t;var n=Object.keys(e),i=n.length;while(i--)t[n[i]]=e[n[i]];return t};var k="undefined"!==typeof Symbol?Symbol("util.promisify.custom"):void 0;function A(t,e){if(!t){var n=new Error("Promise was rejected with a falsy value");n.reason=t,t=n}return e(t)}function z(e){if("function"!==typeof e)throw new TypeError('The "original" argument must be of type Function');function n(){for(var n=[],i=0;i<arguments.length;i++)n.push(arguments[i]);var r=n.pop();if("function"!==typeof r)throw new TypeError("The last argument must be of type Function");var a=this,o=function(){return r.apply(a,arguments)};e.apply(this,n).then(function(e){t.nextTick(o,null,e)},function(e){t.nextTick(A,e,o)})}return Object.setPrototypeOf(n,Object.getPrototypeOf(e)),Object.defineProperties(n,i(e)),n}e.promisify=function(t){if("function"!==typeof t)throw new TypeError('The "original" argument must be of type Function');if(k&&t[k]){var e=t[k];if("function"!==typeof e)throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(e,k,{value:e,enumerable:!1,writable:!1,configurable:!0}),e}function e(){for(var e,n,i=new Promise(function(t,i){e=t,n=i}),r=[],a=0;a<arguments.length;a++)r.push(arguments[a]);r.push(function(t,i){t?n(t):e(i)});try{t.apply(this,r)}catch(o){n(o)}return i}return Object.setPrototypeOf(e,Object.getPrototypeOf(t)),k&&Object.defineProperty(e,k,{value:e,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(e,i(t))},e.promisify.custom=k,e.callbackify=z}).call(this,n("f28c"))},3079:function(t,e,n){"use strict";var i=n("c084"),r=n.n(i);r.a},"32a6":function(t,e,n){var i=n("241e"),r=n("c3a1");n("ce7e")("keys",function(){return function(t){return r(i(t))}})},"3e8f":function(t,e){},"454f":function(t,e,n){n("46a7");var i=n("584a").Object;t.exports=function(t,e,n){return i.defineProperty(t,e,n)}},"46a7":function(t,e,n){var i=n("63b6");i(i.S+i.F*!n("8e60"),"Object",{defineProperty:n("d9f6").f})},"51f6":function(t,e,n){"use strict";var i=n("58cd"),r=n.n(i);r.a},"58cd":function(t,e,n){},"85f2":function(t,e,n){t.exports=n("454f")},"8aae":function(t,e,n){n("32a6"),t.exports=n("584a").Object.keys},a4bb:function(t,e,n){t.exports=n("8aae")},bd86:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n("85f2"),r=n.n(i);function a(t,e,n){return e in t?r()(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}},bf90:function(t,e,n){var i=n("36c3"),r=n("bf0b").f;n("ce7e")("getOwnPropertyDescriptor",function(){return function(t,e){return r(i(t),e)}})},c084:function(t,e,n){},ce7e:function(t,e,n){var i=n("63b6"),r=n("584a"),a=n("294c");t.exports=function(t,e){var n=(r.Object||{})[t]||Object[t],o={};o[t]=e(n),i(i.S+i.F*a(function(){n(1)}),"Object",o)}},cebc:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var i=n("268f"),r=n.n(i),a=n("e265"),o=n.n(a),c=n("a4bb"),s=n.n(c),u=n("bd86");function l(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},i=s()(n);"function"===typeof o.a&&(i=i.concat(o()(n).filter(function(t){return r()(n,t).enumerable}))),i.forEach(function(e){Object(u["a"])(t,e,n[e])})}return t}},d60a:function(t,e){t.exports=function(t){return t&&"object"===typeof t&&"function"===typeof t.copy&&"function"===typeof t.fill&&"function"===typeof t.readUInt8}},e265:function(t,e,n){t.exports=n("ed33")},ed33:function(t,e,n){n("014b"),t.exports=n("584a").Object.getOwnPropertySymbols},fde4:function(t,e,n){n("bf90");var i=n("584a").Object;t.exports=function(t,e){return i.getOwnPropertyDescriptor(t,e)}}}]);
//# sourceMappingURL=chunk-5b8c0bbc.758a8276.js.map