(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c8e55626"],{"232c":function(t,a,e){"use strict";var i=e("ca13"),n=e.n(i);n.a},6503:function(t,a,e){t.exports=e.p+"img/tips.d46d6c15.png"},"693a":function(t,a){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAADSElEQVRYR+2XT2wUZRjGn+fb+aY2GG1MxKbMbOVPs7M2MRD8c4GDQSDGEwf5ezEmQiKC0YteiAnhoPFgjWCIveihevDCQQnCxXgzGOBgsrNsoWRna9rUIERJ6Xwz85pZWVmXcTvdNPHSPc1+8z7P9/ve9/2+mSF6/AUO+u8ofQHCYcbh9tKv8HuxYi+iVHN1jd6YFHg5vabI4VJgPuvFq2eA2pDeFFu8dA/gzVJgTi0bQM3F+hj2pxBMeI1wIss4L4DvYojQex4NzeeDs7jT6ZWZAb9ofwDg3b9XF+8qBfGZTmEegJknsOpWn30RQBmCM14Q7soFMOlgg6G+TPJhiMwn4HNPBeEv7eKpxzF4t1/XCWpJcKDcCL9qvy+A8l19juT2dFxEviwH5tVcAGlQ1Sm8JFTfgSQEwSoJN7oN3Gw3qBXt0ThJXo4b0dgoELbf8x09BsW37o1VBhbCZ3OXoGXku9YxUB1vliKRg6WGGc/TaO3lgchvhcRsGplGI0u76C6outY7ArW1n+Frw3X8ngegMognaeufAPRB8KIXmJ//S7coQKcwre2kY22NqHaCeJrAPAQVEfhWFF4YmcFcHshWTG4AAQp+0T4G4BCBwexJ5A8K3i8F5uO8EKwBfeJaz4tE10oNTGcJBdC+a39LYkceY4GMl+vmYJ5Y+q6eALm/uVUgsxReIpMfbRWNrb2Bu+m4X9SfADyax7AVI4kcKTfMydb/dKHRGgyT1jqS6wTymL0QjbPi6q9J7s0w/9Crh++lZ0JEXQWplgIAyO143jijc/iz6ujXE4WTBO1/eYicbpYgcQrbAD4jVJsBbBbKaiXJ7vQE9F19CuQbS5v8nzy87dXNWMXV51sH0n0fua3i5MCiTei79jSIoZ4ARH7wAvPCNQcjEax9ieJMAXIdiK6P1FEnEHUFmBrAwMIjdq69nwkoMucFZnU3+K4Azaci7cmeVt/sahEvMF17pytAswGVXVsBWMnASgZWMvC/ZaDniZcgzP4ucO0TAtmyBJ+uoRRcIcxHWS88DwBUXGsHqb5frsnbfL7x6uHuTt8HAJrfA6pwdrkBRHC+HIQ7FwVI33qrRf0FgFcAPrQsICIXEZo93iymOv3+Ar99jA8Uuy9KAAAAAElFTkSuQmCC"},b508:function(t,a,e){},b5cb:function(t,a){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAE00lEQVRYhcWWe2gUVxTGf3d3J0mzSVNrozFmNjaaZOujWpUKgmgVhCKB2lYC9VEamiaUgvahqKUoVGPbP0TB+gqEPhTUtlKIKW0kxFooSuOD1phdY2OyG2M0IokxutnJ7ukfmnR3Zlc3kdIP5o/z3TPn+86dO/dexTDg1R3zwkqtUKh5IpKvlHIAICIo1SZwxhYOHRxoD9VMgWAiNVUiSU26YzHYvlSKSYlZlW6EjW6/seexDDRmkmZL0XYppd5MTNjsQ3a4/cb7IzIg4PC6tF9ALRyReAQKfcEkBUasMVu8l7wu7SuzeFZVNellGyy5ek0Do7fEn22vru2LNxbTgGe8YyGo5WY+Y9FijCuXozhncTmpU6dx++jhuAZQ6i3veMeimEMxDejaaZR6MZLL3HkQ54xZtM53R+XmNfjRMsdYavTU1dJZUjQUi0ij229MUyCReZYZaHJps8ziAE+/8jpdu3dEcdlH6tEyx3Dz2yq8ucl4c5NpK10BQPehb6I7VWrKpRz7y+a6FgMqLJZFl1VVzd0Lf9F3eC/O4nIK2/rJPlKPc9p0Oio288zKElIWL7tvqmI7PXW1BGq/M5dBlG2VmXNYsmy2BZGhs7icjEWL6ajYTHrZBjJL36WnrhZt7Dhal7+KcfYEN3UX+s59GDc+JdzXFzX1UQZQL1gaNhMePcmHQh+Mzd/Y6LpBy2w96h17TgF5x09hS3XSVroiZvcPLPS6fcaTUf1aXcqoyLhj4wd4c5NpX7d6KI5EetkG8o6fItDSwq0fvye38gBPrfssjgGVHmfgXzS5kq55XEkS+TTPnSqhvjvSuWv7EHd16yYJXGkREbHwIiLBG9fl6tZNUXWaXFq/xZKZ8OjaeZSaHslN+NWDzemk5+djaNk5aGPHYU9LI/B3M50lReg1DQB07fx8aPqzqqpJfX5G9OcS6XL7jah/NtZGdCYy0GsaSJ7wLHank/R5L2FLS+PuuT9one8eWmz+JbMJXPaSW3mA7CP12HMK6CwpsqwVoNFMWP8CUfUoSgbDzk8+wjh7IobPaHStXk7315Vkrt+EbUw2ofZL1iSlTlsoM+HP4Yk7Nu2qQo0yj8H9RZcyeSp3f/8NLXcCqbPn0FtXS+++bY80aR+QmfkdxrlIzvIJ9HbuKZHtg/HoLXvQaxrIb7pFYVs/WWvWkjKpEIDA+TMY1zrIWrN2aHMa3JDMEJGTZnGIcxY0Q3JIT2pBkZ1VVU2o9zaBixce2qWzuJyM14pJnzOX/tYrdO3eQd/hvYPq9zQxpk9spzkhAwDeHPtSsdmPxlWMA23mAka/9yEBTyPdX6wHkbCScFFhe+inWPkPvRF59KQtKD4erolICFL2nM/YH2/8oQYEbB5dq/pfrmSR8Li0b0CtHJY2/OD2BZeZz/8RGRBQXpe2H9TbCeULtW5/cImCgUflxr0TRkKBFPqMdwSOJaDekBEKLk1E/EHtxNE5Fmd3ctKfQF5MbcTQBoyJkzrwJ1ozoRkYRNZ1+mxheUNE4nSntg1HfNgGAArajdMotdXMi3DJ4QtWDLfesA0AOHzBbQgdkZydcGk+WM77/8RAPvSrcHgVIgIgIocK/AMnR1LrseBxaZUelxa4mMu4kdaw3geGAQkZ65XdcXlyG9dGWuMfqGHqw2QDOFoAAAAASUVORK5CYII="},c9fb:function(t,a){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAADj0lEQVRYhb2XbWhNcRzHP9cWGzZ3bdh2U2RaHjbGWhHZZlnz/BjdZGuYNvJCHa1oL2iUW2ixIkQiXqDEdESTlmiW0sj1MDaxYatNmOFsXpzdu/8953/vPWfk+2Y73/Pr9/vc3//xODBoyMGFRkvUPGBD/99JQGS/3wc0Aw3AeeCGpqg/ZQkcDkdgvVDVBC0EXgL3gBJgslAcwAGMB1YDV4CPEZ78UiuJwwGMBM4AKpBiERbACVRHePIPhwt0GA1hCCL7C+f6jHWumXz60UVtx2sbLAAM1RT1F5iHIFIaruuMWBygfH4R9S2N1NYNAKxzzWTBhExpgpK6E75/jwPFsphgHcgF7vi8spRsJjiT2ZC5hLYv7dx+8QCAN50fiIuKZU16XkCOxNgExsTEE+HJF+08TVHvGDsQDOAhkOXzHrurSHelmuifvPeScWGHyc+Jn8jt4mojwFMgrXfXrT7RlA3BLLE44C/y2F1FfUuj2Fo7mgoUADWiKVsFuRLvX2mj0ZB1IFt8SI2O59n2C/7ndFcqm2av9j+rz+pMCZJGjQ4GkGEFIE188HZ3BIylpqjknS7zL0XfeIsgrV2f8X56KwNIsgIQZzRSo+M5WaAw70q5LCkAi27sC/pOUIwVgK/oO6BfycOdzJk40L2tGctZ1NkGQM2bh0GrlaVkU/3qrmiZzgcZwEcgUTTmJE0NCFibMTAkj1qfS4vvnraMvQXbqPYEAHRZAWgApouGMyqgIaY5IFNaYgpN7e+M9lMrALUYts1xTr0hJ+aWmIM7XvOtpxtNUU3vDtWeNVqm8ZIBXAaqECajK3YMTe3vApafqNiqFVJfoktGI9hWvAfwT2tNUam4eQxn1Eh25hTy5L2X+pZGmjvbuN9q6mqAhJPznqao862ehh6gFEj2ZLoBqGy8BuiTrnDGYnImZTE2JoERw6JDAkw56sbb3dENbJa9D3UfWIl+u5EtJzvqBZZqiloD9q5kV4FK4G+KA5T6issU7kpWAZimsg0d0RQ15NEZDqAXKALODaL4ZWBnuCCrt+JC4KSN4reA9Zqi9oULtArQh34dv24h9hGwUlPU31YSWwXwQawHmkLE/AJWaYr63WpSOwAA3wA3EOzXHdAU1XQA/EsA0PfzSon/AthvN9lgAAAOAB8M3hag538B9KBfMH2z/CL6d6NtDRYA9A+XU/0wYdd7MIX6NLOicuAV0DrYBH8AVJgFNrsoITUAAAAASUVORK5CYII="},ca13:function(t,a,e){},e123:function(t,a,e){"use strict";e.r(a);var i=function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("div",{staticClass:"warning"},[i("div",{},[i("div",{staticClass:"selectOption"},[i("span",{staticStyle:{float:"left","line-height":"40px"}},[t._v("筛选：")]),i("el-date-picker",{staticClass:"fl-l",attrs:{type:"date",placeholder:"开始时间","value-format":"yyyy-MM-dd"},model:{value:t.startDate,callback:function(a){t.startDate=a},expression:"startDate"}}),i("el-date-picker",{staticClass:"fl-l",attrs:{type:"date",placeholder:"结束时间日期","value-format":"yyyy-MM-dd"},model:{value:t.endDate,callback:function(a){t.endDate=a},expression:"endDate"}}),i("el-select",{staticStyle:{width:"180px"},attrs:{placeholder:"请选择阅读状态"},model:{value:t.read,callback:function(a){t.read=a},expression:"read"}},t._l(t.readState,function(t){return i("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1),i("el-select",{staticStyle:{width:"180px"},attrs:{placeholder:"报警类型"},model:{value:t.warning,callback:function(a){t.warning=a},expression:"warning"}},t._l(t.warningState,function(t){return i("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1),i("el-select",{staticStyle:{width:"180px"},attrs:{placeholder:"选择倒序排列时间"},model:{value:t.sortDate,callback:function(a){t.sortDate=a},expression:"sortDate"}},t._l(t.sortDateState,function(t){return i("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1),i("el-input",{staticClass:"carNumber",attrs:{placeholder:"输入车牌号",clearable:""},model:{value:t.driverNumber,callback:function(a){t.driverNumber=a},expression:"driverNumber"}}),i("span",{staticStyle:{cursor:"pointer",color:"#4596db"},on:{click:t.operationSome}},[t._v("标记所选项为已读")]),i("span",{staticClass:"fl-r",staticStyle:{"font-size":"12px"}},[i("img",{staticStyle:{position:"relative",top:"4px"},attrs:{src:e("6503"),alt:"",width:"16px;",height:"16px;"}}),t._v("\n        共"+t._s(t.dataLength)+"条报警信息\n      ")])],1),i("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:t.tableData,"tooltip-effect":"dark",stripe:t.stripe,border:t.border},on:{"selection-change":t.selectFn,select:t.selectFn,"select-all":t.selectFn}},[i("el-table-column",{attrs:{type:"selection",width:"60"}}),i("el-table-column",{attrs:{type:"index",index:t.indexMethod}}),i("el-table-column",{attrs:{prop:"platenum",label:"车牌号"}}),i("el-table-column",{attrs:{prop:"appointmentdate",label:"预约卸货时间"}}),i("el-table-column",{attrs:{prop:"mines",label:"预约矿点"}}),i("el-table-column",{attrs:{prop:"commandmsg",label:"报警类型"}}),i("el-table-column",{attrs:{prop:"eventtime",label:"报警时间"}}),i("el-table-column",{attrs:{prop:"hasread",label:"已读状态",width:"120"}}),i("el-table-column",{attrs:{label:"操作","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(a){return["已读"==a.row.hasread?i("span"):i("span",{on:{click:function(e){return t.operationread(a.row,a.$index)}}},[t._v("标记为已读")]),i("span",{on:{click:function(e){return t.operationInfo(a.row)}}},[t._v("详情")])]}}])})],1),i("el-pagination",{staticStyle:{"margin-top":"20px"},attrs:{background:"",layout:"prev, pager, next","page-size":t.pageSize,"current-page":t.currentPage,total:t.dataLength},on:{"current-change":t.getData}}),i("el-dialog",{staticStyle:{"text-align":"center"},attrs:{title:"报警详情",visible:t.dialogVisible,width:"60%"},on:{"update:visible":function(a){t.dialogVisible=a}}},[i("div",{staticClass:"box"},[i("div",[i("p",{staticClass:"title"},[t._v("报警信息")]),i("div",[i("div",{staticClass:"row first"},[i("p",[i("span",[t._v("报警类型：")]),t._v("\n                "+t._s(t.infoData.commandmsg)+"\n              ")]),i("p",[i("span",[t._v("报警位置：")]),i("a",{attrs:{href:"#"},on:{click:function(a){return t.openMap(t.infoData)}}},[t._v("点击查看")])])]),i("div",{staticClass:"row"},[i("p",[i("span",[t._v("报警时间：")]),t._v("\n                "+t._s(t.infoData.eventtime)+"\n              ")]),i("p",[i("span",[t._v("已读状态：")]),t._v("\n                "+t._s(t.infoData.hasread)+"\n              ")])]),"停车超时"==t.infoData.commandmsg?i("div",{staticClass:"row"},[i("p",[i("span",[t._v("开始时间：")]),t._v("\n                "+t._s(t.infoData.bte)+"\n              ")]),i("p",[i("span",[t._v("结束时间：")]),t._v("\n                "+t._s(t.infoData.ete)+"\n              ")])]):t._e(),"停车超时"==t.infoData.commandmsg?i("div",{staticClass:"row"},[i("p",[i("span",[t._v("停车时长：")]),t._v("\n                "+t._s(t.infoData.parkMins)+"分钟\n              ")])]):t._e()])]),i("div",{staticClass:"type-two"},[i("p",{staticClass:"title"},[t._v("车辆信息")]),i("div",[i("div",{staticClass:"row first"},[i("p",[i("span",[t._v("车牌号：")]),t._v("\n                "+t._s(t.infoData.platenum)+"\n              ")]),i("p",[i("span",[t._v("司机姓名：")]),t._v("\n                "+t._s(t.infoData.appname)+"\n              ")])]),i("div",{staticClass:"row"},[i("p",[i("span",[t._v("手机号：")]),t._v("\n                "+t._s(t.infoData.appmobile)+"\n              ")]),i("p",[i("span",[t._v("供应单位：")]),t._v("\n                "+t._s(t.infoData.companyname)+"\n              ")])]),i("div",{staticClass:"row"},[i("p",[i("span",[t._v("货品名称：")]),t._v("\n                "+t._s(t.infoData.appointmentproduct)+"\n              ")]),i("p",[i("span",[t._v("预约矿点：")]),t._v("\n                "+t._s(t.infoData.mines)+"\n              ")])]),i("div",{staticClass:"row"},[i("p",[i("span",[t._v("预约卸货时间：")]),t._v("\n                "+t._s(t.infoData.appointmentdate)+"\n              ")]),i("p",[i("span",[t._v("皮重（吨）：")]),t._v("\n                "+t._s(t.infoData.tare)+"\n              ")])]),i("div",{staticClass:"row"},[i("p",[i("span",[t._v("毛重（吨）：")]),t._v("\n                "+t._s(t.infoData.rough)+"\n              ")])])])])])]),i("el-dialog",{staticStyle:{"text-align":"center"},attrs:{visible:t.isShow,title:"报警位置"},on:{"update:visible":function(a){t.isShow=a},close:t.mapClose}},[i("baidu-map",{staticClass:"map",class:{isShow:t.isShow},style:{width:t.width,height:t.height},attrs:{center:t.mapPoint,zoom:13,"scroll-wheel-zoom":!0}},[i("bm-geolocation",{attrs:{anchor:"BMAP_ANCHOR_BOTTOM_RIGHT",showAddressBar:!0,autoLocation:!0}}),i("bm-marker",{attrs:{position:t.mapPoint},on:{click:t.infoWindowOpen}},[i("bm-info-window",{attrs:{show:t.infoWindowState,title:t.infoWindowDetails.divernumber,offset:{width:0,height:-15}},on:{clickclose:t.infoWindowClose}},["路线偏离"==t.rowDataType?i("p",{staticStyle:{color:"red"}},[i("img",{staticStyle:{"margin-left":"10px"},attrs:{width:"26px;",src:e("693a"),alt:""}}),t._v("   偏离距离："),i("span",{staticStyle:{"font-size":"26px"}},[t._v(t._s(t.infoWindowDetails.version))]),t._v("米")]):t._e(),i("ul",{staticClass:"merkerInfo"},[i("li",[i("span",{staticStyle:{display:"inline-block",width:"80px","text-align":"right",color:"#666"}},[t._v("车牌号：")]),i("span",[t._v(t._s(t.infoWindowDetails.platenum))])]),i("li",[i("span",{staticStyle:{display:"inline-block",width:"80px","text-align":"right",color:"#666"}},[t._v("报警时间：")]),i("span",[t._v(t._s(t.infoWindowDetails.eventtime))])]),i("li",[i("span",{staticStyle:{display:"inline-block",width:"80px","text-align":"right",color:"#666"}},[t._v("报警地址：")]),i("span",[t._v(t._s(t.infoWindowDetails.address))])])])])],1),t.startPoint.lng?i("bm-marker",{attrs:{icon:t.satrticon,position:t.startPoint}}):t._e(),t.endPoint.lng?i("bm-marker",{attrs:{icon:t.endicon,position:t.endPoint}}):t._e(),i("bm-polyline",{attrs:{path:t.path,"stroke-color":"blue","stroke-opacity":.5,"stroke-weight":8}})],1)],1)],1)])},n=[],s=(e("ac6a"),e("2f62")),o=e("c9fb"),l=e("b5cb"),r={data:function(){return{pageSize:10,currentPage:0,dialogVisible:!1,stripe:!0,border:!0,dataLength:null,driverNumber:"",isShow:!1,startPoint:"",endPoint:"",carLabelIndex:-1,mapPoint:{lat:39.913828,lng:116.403119},satrticon:{url:o,size:{width:32,height:32}},endicon:{url:l,size:{width:32,height:32}},width:"100%",height:"500px",ids:[],infoData:[],idstr:"",startDate:this.PF.getToDay(),endDate:this.PF.getToDay(),readState:[{label:"请选择阅读状态",value:2},{label:"已读",value:1},{label:"未读",value:0}],read:"",warningState:[{label:"请选择报警类型",value:0},{label:"路线偏离",value:9},{label:"停车超时",value:12},{label:"断电报警",value:2},{label:"GPS故障",value:11}],warning:"",sortDateState:[{label:"请选择倒序排列时间",value:0},{label:"预约卸货时间",value:"appointmentdate"},{label:"报警时间",value:"eventtime"}],sortDate:"",tableData:[],path:[],infoWindowState:!1,infoWindowDetails:"",rowDataType:""}},computed:Object(s["c"])({_venderLoginId:function(t){return t._venderLoginId}}),methods:{indexMethod:function(t){return t+1},infoWindowClose:function(){this.infoWindowState=!1},infoWindowOpen:function(){this.infoWindowState=!0},operationSome:function(){0!=this.ids.length?this.operationread(this.ids.join(",")):this.$alert("请选择需要操作的数据")},selectFn:function(t,a){var e=this;this.ids=[],t.forEach(function(t){e.ids.push(t.id)})},operationread:function(t,a){var e,i=this;e=t.id?this.qs.stringify({ids:t.id}):this.qs.stringify({ids:t}),this.ajax.post(this.PF.towAPIUrl+"/waringInfoApi/updateWaring",e).then(function(t){200==t.data.errorCode&&(i.$alert(t.data.msg),i.getData())})},getData:function(t){var a=this;this.read=2===this.read?"":this.read,this.sortDate=0===this.sortDate?"":this.sortDate,this.warning=0===this.warning?"":this.warning;var e=this.qs.stringify({venderId:this._venderLoginId,hasRead:this.read,driverNumber:this.driverNumber,startDate:this.startDate,endDate:this.endDate,waringType:this.warning,sortBy:this.sortDate,pagesNo:t||1});this.ajax.post(this.PF.towAPIUrl+"/waringInfoApi/getWaringList",e).then(function(t){t.data.body.result.forEach(function(t){t.appointmentdate=t.appointmentdate?a.PF.parseDate(t.appointmentdate):"-",t.hasread=t.hasread?"已读":"未读"}),a.dataLength=t.data.body.size,a.tableData=t.data.body.result})},operationInfo:function(t,a){this.dialogVisible=!0,this.infoData=t},openMap:function(t){var a=this;this.rowDataType=t.commandmsg,this.startPoint="",this.endPoint="";var e=this;if(""!=t.lat&&""!=t.lng){if(this.infoWindowDetails=t,"路线偏离"==t.commandmsg&&(this.infoWindowState=!0),"路线偏离"==t.commandmsg||"停车超时"==t.commandmsg){console.log(t),this.path=[];var i={venderId:this._venderLoginId,type:t.appointmentdate?2:1,mine:t.mines};this.ajax.post(this.PF.towAPIUrl+"waringInfoApi/waringRout",i).then(function(t){200==t.data.errorCode?(console.log(t),setTimeout(function(){t.data.body.list.length<=0||(e.path=t.data.body.list,e.startPoint=t.data.body.list[0],e.endPoint=t.data.body.list[t.data.body.list.length-1],console.log(e.startPoint))},100)):a.$alert(t.data.msg)})}setTimeout(function(){e.mapPoint={lng:t.lng,lat:t.lat}},100),this.isShow=!0}else alert("查询不到位置信息")},mapClose:function(){this.infoWindowState=!1,this.path=[]}},watch:{currentPage:function(){console.log(this.pageSize*this.currentPage),this.indexMethod(this.pageSize*this.currentPage)},startDate:function(){this.getData()},endDate:function(){this.getData()},read:function(){this.getData()},warning:function(){this.getData()},sortDate:function(){this.getData()},driverNumber:function(){this.getData()}},mounted:function(){this.getData()}},c=r,d=(e("232c"),e("fd33"),e("2877")),p=Object(d["a"])(c,i,n,!1,null,"73edb0dd",null);a["default"]=p.exports},fd33:function(t,a,e){"use strict";var i=e("b508"),n=e.n(i);n.a}}]);
//# sourceMappingURL=chunk-c8e55626.81abbb04.js.map